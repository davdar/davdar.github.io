<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>UVMVS.Core.Reflection</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="UVMVS.Core.Reflection.html" class="Module">UVMVS.Core.Reflection</a> <a id="30" class="Keyword">where</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="UVMVS.Core.Init.html" class="Module">UVMVS.Core.Init</a>
<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="UVMVS.Core.Classes.html" class="Module">UVMVS.Core.Classes</a>
<a id="96" class="Keyword">open</a> <a id="101" class="Keyword">import</a> <a id="108" href="UVMVS.Core.Data.html" class="Module">UVMVS.Core.Data</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="UVMVS.Core.Builtin.html" class="Module">UVMVS.Core.Builtin</a>

<a id="156" class="Keyword">instance</a>
  <a id="has[â‰«=][TC]"></a><a id="167" href="UVMVS.Core.Reflection.html#167" class="Function">has[â‰«=][TC]</a> <a id="179" class="Symbol">:</a> <a id="181" class="Symbol">âˆ€</a> <a id="183" class="Symbol">{</a><a id="184" href="UVMVS.Core.Reflection.html#184" class="Bound">â„“</a><a id="185" class="Symbol">}</a> <a id="187" class="Symbol">â†’</a> <a id="189" href="UVMVS.Core.Classes.Algebra.html#8341" class="Record">has[â‰«=]</a> <a id="197" class="Symbol">(</a><a id="198" href="UVMVS.Core.Builtin.html#7476" class="Postulate">TC</a> <a id="201" class="Symbol">{</a><a id="202" href="UVMVS.Core.Reflection.html#184" class="Bound">â„“</a><a id="203" class="Symbol">})</a>
  <a id="208" href="UVMVS.Core.Reflection.html#167" class="Function">has[â‰«=][TC]</a> <a id="220" class="Symbol">=</a> <a id="222" class="Keyword">record</a> <a id="229" class="Symbol">{</a> <a id="231" class="Field">return</a> <a id="238" class="Symbol">=</a> <a id="240" href="UVMVS.Core.Builtin.html#7516" class="Postulate">returnTC</a> <a id="249" class="Symbol">;</a> <a id="251" class="Field Operator">_â‰«=_</a> <a id="256" class="Symbol">=</a> <a id="258" href="UVMVS.Core.Builtin.html#7563" class="Postulate">bindTC</a> <a id="265" class="Symbol">}</a>

<a id="_â‰¡?[ğ”¯name]_"></a><a id="268" href="UVMVS.Core.Reflection.html#268" class="Function Operator">_â‰¡?[ğ”¯name]_</a> <a id="280" class="Symbol">:</a> <a id="282" href="UVMVS.Core.Builtin.html#1722" class="Postulate">ğ”¯name</a> <a id="288" class="Symbol">â†’</a> <a id="290" href="UVMVS.Core.Builtin.html#1722" class="Postulate">ğ”¯name</a> <a id="296" class="Symbol">â†’</a> <a id="298" href="UVMVS.Core.Classes.DEq.html#179" class="Datatype">â‰¡!</a>
<a id="301" href="UVMVS.Core.Reflection.html#301" class="Bound">nâ‚</a> <a id="304" href="UVMVS.Core.Reflection.html#268" class="Function Operator">â‰¡?[ğ”¯name]</a> <a id="314" href="UVMVS.Core.Reflection.html#314" class="Bound">nâ‚‚</a> <a id="317" class="Keyword">with</a> <a id="322" href="UVMVS.Core.Builtin.html#1775" class="Primitive">primQNameEquality</a> <a id="340" href="UVMVS.Core.Reflection.html#301" class="Bound">nâ‚</a> <a id="343" href="UVMVS.Core.Reflection.html#314" class="Bound">nâ‚‚</a>
<a id="346" class="Symbol">â€¦</a> <a id="348" class="Symbol">|</a> <a id="350" href="UVMVS.Core.Init.html#3675" class="InductiveConstructor">Éª</a> <a id="352" class="Symbol">=</a> <a id="354" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="358" class="Symbol">â€¦</a> <a id="360" class="Symbol">|</a> <a id="362" href="UVMVS.Core.Init.html#3667" class="InductiveConstructor">á´</a> <a id="364" class="Symbol">=</a> <a id="366" href="UVMVS.Core.Classes.DEq.html#194" class="InductiveConstructor">[â‰¢]</a>

<a id="_â‰¡?[ğ”¯visibility]_"></a><a id="371" href="UVMVS.Core.Reflection.html#371" class="Function Operator">_â‰¡?[ğ”¯visibility]_</a> <a id="389" class="Symbol">:</a> <a id="391" href="UVMVS.Core.Builtin.html#2869" class="Datatype">ğ”¯visibility</a> <a id="403" class="Symbol">â†’</a> <a id="405" href="UVMVS.Core.Builtin.html#2869" class="Datatype">ğ”¯visibility</a> <a id="417" class="Symbol">â†’</a> <a id="419" href="UVMVS.Core.Classes.DEq.html#179" class="Datatype">â‰¡!</a>
<a id="422" href="UVMVS.Core.Builtin.html#2895" class="InductiveConstructor">Visible</a>  <a id="431" href="UVMVS.Core.Reflection.html#371" class="Function Operator">â‰¡?[ğ”¯visibility]</a> <a id="447" href="UVMVS.Core.Builtin.html#2895" class="InductiveConstructor">Visible</a>  <a id="456" class="Symbol">=</a> <a id="458" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="462" href="UVMVS.Core.Builtin.html#2919" class="InductiveConstructor">Hidden</a>   <a id="471" href="UVMVS.Core.Reflection.html#371" class="Function Operator">â‰¡?[ğ”¯visibility]</a> <a id="487" href="UVMVS.Core.Builtin.html#2919" class="InductiveConstructor">Hidden</a>   <a id="496" class="Symbol">=</a> <a id="498" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="502" href="UVMVS.Core.Builtin.html#2942" class="InductiveConstructor">Instance</a> <a id="511" href="UVMVS.Core.Reflection.html#371" class="Function Operator">â‰¡?[ğ”¯visibility]</a> <a id="527" href="UVMVS.Core.Builtin.html#2942" class="InductiveConstructor">Instance</a> <a id="536" class="Symbol">=</a> <a id="538" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="542" class="CatchallClause Symbol">_</a><a id="543" class="CatchallClause">        </a><a id="551" href="UVMVS.Core.Reflection.html#371" class="CatchallClause Function Operator">â‰¡?[ğ”¯visibility]</a><a id="566" class="CatchallClause"> </a><a id="567" class="CatchallClause Symbol">_</a>        <a id="576" class="Symbol">=</a> <a id="578" href="UVMVS.Core.Classes.DEq.html#194" class="InductiveConstructor">[â‰¢]</a>

<a id="_â‰¡?[ğ”¯relevance]_"></a><a id="583" href="UVMVS.Core.Reflection.html#583" class="Function Operator">_â‰¡?[ğ”¯relevance]_</a> <a id="600" class="Symbol">:</a> <a id="602" href="UVMVS.Core.Builtin.html#3160" class="Datatype">ğ”¯relevance</a> <a id="613" class="Symbol">â†’</a> <a id="615" href="UVMVS.Core.Builtin.html#3160" class="Datatype">ğ”¯relevance</a> <a id="626" class="Symbol">â†’</a> <a id="628" href="UVMVS.Core.Classes.DEq.html#179" class="Datatype">â‰¡!</a>
<a id="631" href="UVMVS.Core.Builtin.html#3185" class="InductiveConstructor">Relevant</a>   <a id="642" href="UVMVS.Core.Reflection.html#583" class="Function Operator">â‰¡?[ğ”¯relevance]</a> <a id="657" href="UVMVS.Core.Builtin.html#3185" class="InductiveConstructor">Relevant</a>   <a id="668" class="Symbol">=</a> <a id="670" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="674" href="UVMVS.Core.Builtin.html#3209" class="InductiveConstructor">Irrelevant</a> <a id="685" href="UVMVS.Core.Reflection.html#583" class="Function Operator">â‰¡?[ğ”¯relevance]</a> <a id="700" href="UVMVS.Core.Builtin.html#3209" class="InductiveConstructor">Irrelevant</a> <a id="711" class="Symbol">=</a> <a id="713" href="UVMVS.Core.Classes.DEq.html#198" class="InductiveConstructor">[â‰¡]</a>
<a id="717" class="CatchallClause Symbol">_</a><a id="718" class="CatchallClause">          </a><a id="728" href="UVMVS.Core.Reflection.html#583" class="CatchallClause Function Operator">â‰¡?[ğ”¯relevance]</a><a id="742" class="CatchallClause"> </a><a id="743" class="CatchallClause Symbol">_</a>          <a id="754" class="Symbol">=</a> <a id="756" href="UVMVS.Core.Classes.DEq.html#194" class="InductiveConstructor">[â‰¢]</a>

<a id="761" class="Keyword">instance</a>
  <a id="has[â‰¡?][ğ”¯name]"></a><a id="772" href="UVMVS.Core.Reflection.html#772" class="Function">has[â‰¡?][ğ”¯name]</a> <a id="787" class="Symbol">:</a> <a id="789" href="UVMVS.Core.Classes.DEq.html#511" class="Record">has[â‰¡?]</a> <a id="797" href="UVMVS.Core.Builtin.html#1722" class="Postulate">ğ”¯name</a>
  <a id="805" href="UVMVS.Core.Reflection.html#772" class="Function">has[â‰¡?][ğ”¯name]</a> <a id="820" class="Symbol">=</a> <a id="822" class="Keyword">record</a> <a id="829" class="Symbol">{</a> <a id="831" class="Field Operator">_â‰¡?_</a> <a id="836" class="Symbol">=</a> <a id="838" href="UVMVS.Core.Reflection.html#268" class="Function Operator">_â‰¡?[ğ”¯name]_</a> <a id="850" class="Symbol">}</a>

  <a id="has[â‰¡?][ğ”¯visibility]"></a><a id="855" href="UVMVS.Core.Reflection.html#855" class="Function">has[â‰¡?][ğ”¯visibility]</a> <a id="876" class="Symbol">:</a> <a id="878" href="UVMVS.Core.Classes.DEq.html#511" class="Record">has[â‰¡?]</a> <a id="886" href="UVMVS.Core.Builtin.html#2869" class="Datatype">ğ”¯visibility</a>
  <a id="900" href="UVMVS.Core.Reflection.html#855" class="Function">has[â‰¡?][ğ”¯visibility]</a> <a id="921" class="Symbol">=</a> <a id="923" class="Keyword">record</a> <a id="930" class="Symbol">{</a> <a id="932" class="Field Operator">_â‰¡?_</a> <a id="937" class="Symbol">=</a> <a id="939" href="UVMVS.Core.Reflection.html#371" class="Function Operator">_â‰¡?[ğ”¯visibility]_</a> <a id="957" class="Symbol">}</a>

  <a id="has[â‰¡?][ğ”¯relevance]"></a><a id="962" href="UVMVS.Core.Reflection.html#962" class="Function">has[â‰¡?][ğ”¯relevance]</a> <a id="982" class="Symbol">:</a> <a id="984" href="UVMVS.Core.Classes.DEq.html#511" class="Record">has[â‰¡?]</a> <a id="992" href="UVMVS.Core.Builtin.html#3160" class="Datatype">ğ”¯relevance</a>
  <a id="1005" href="UVMVS.Core.Reflection.html#962" class="Function">has[â‰¡?][ğ”¯relevance]</a> <a id="1025" class="Symbol">=</a> <a id="1027" class="Keyword">record</a> <a id="1034" class="Symbol">{</a> <a id="1036" class="Field Operator">_â‰¡?_</a> <a id="1041" class="Symbol">=</a> <a id="1043" href="UVMVS.Core.Reflection.html#583" class="Function Operator">_â‰¡?[ğ”¯relevance]_</a> <a id="1060" class="Symbol">}</a>

<a id="1063" class="Comment">{- WIP
mutual
  _â‰¡?[arg-info]_ : arg-info â†’ arg-info â†’ â‰¡!
  ArgInfo vâ‚ râ‚ â‰¡?[arg-info] ArgInfo vâ‚‚ râ‚‚ = (vâ‚ â‰¡? vâ‚‚) â© (râ‚ â‰¡? râ‚‚)

  _â‰¡?[arg][term]_ : arg term â†’ arg term â†’ â‰¡!
  Arg iâ‚ tâ‚ â‰¡?[arg][term] Arg iâ‚‚ tâ‚‚ = (iâ‚ â‰¡?[arg-info] iâ‚‚) â© (tâ‚ â‰¡?[term] tâ‚‚)

  _â‰¡?[args][term]_ : âŸ¬ arg term âŸ­ â†’ âŸ¬ arg term âŸ­ â†’ â‰¡!
  []             â‰¡?[args][term] []             = [â‰¡]
  (argâ‚ âˆ· argsâ‚) â‰¡?[args][term] (argâ‚‚ âˆ· argsâ‚‚) = (argâ‚ â‰¡?[arg][term] argâ‚‚) â© (argsâ‚ â‰¡?[args][term] argsâ‚‚)
  _              â‰¡?[args][term] _              = [â‰¢]

  _â‰¡?[arg][pat]_ : arg pat â†’ arg pat â†’ â‰¡!
  Arg iâ‚ tâ‚ â‰¡?[arg][pat] Arg iâ‚‚ tâ‚‚ = (iâ‚ â‰¡?[arg-info] iâ‚‚) â© (tâ‚ â‰¡?[pat] tâ‚‚)

  _â‰¡?[args][pat]_ : âŸ¬ arg pat âŸ­ â†’ âŸ¬ arg pat âŸ­ â†’ â‰¡!
  []             â‰¡?[args][pat] []             = [â‰¡]
  (argâ‚ âˆ· argsâ‚) â‰¡?[args][pat] (argâ‚‚ âˆ· argsâ‚‚) = (argâ‚ â‰¡?[arg][pat] argâ‚‚) â© (argsâ‚ â‰¡?[args][pat] argsâ‚‚)
  _              â‰¡?[args][pat] _              = [â‰¢]

  _â‰¡?[pat]_ : pat â†’ pat â†’ â‰¡!
  Con câ‚ argsâ‚ â‰¡?[pat] Con câ‚‚ argsâ‚‚ = (câ‚ â‰¡? câ‚‚) â© (argsâ‚ â‰¡?[args][pat] argsâ‚‚) 
  Dot          â‰¡?[pat] Dot        = {!!}
  Var sâ‚       â‰¡?[pat] Var sâ‚‚     = {!!}
  Lit lâ‚       â‰¡?[pat] Lit lâ‚‚     = {!!}
  Proj fâ‚      â‰¡?[pat] Proj fâ‚‚    = {!!}
  Absurd       â‰¡?[pat] Absurd     = {!!}
  _            â‰¡?[pat] _          = {!!}

  _â‰¡?[clause]_ : clause â†’ clause â†’ â‰¡!
  Clause psâ‚ tâ‚    â‰¡?[clause] Clause psâ‚‚ tâ‚‚    = {!!}
  AbsurdClause psâ‚ â‰¡?[clause] AbsurdClause psâ‚‚ = {!!}
  _                â‰¡?[clause] _                = {!!}

  _â‰¡?[clauses]_ : âŸ¬ clause âŸ­ â†’ âŸ¬ clause âŸ­ â†’ â‰¡!
  []         â‰¡?[clauses] []         = [â‰¡]
  (câ‚ âˆ· csâ‚) â‰¡?[clauses] (câ‚‚ âˆ· csâ‚‚) = (câ‚ â‰¡?[clause] câ‚‚) â© (csâ‚ â‰¡?[clauses] csâ‚‚)
  _          â‰¡?[clauses] _          = [â‰¢]
 

  _â‰¡?[term]_ : term â†’ term â†’ â‰¡!
  Var xâ‚ argsâ‚     â‰¡?[term] Var xâ‚‚ argsâ‚‚     = (xâ‚ â‰¡? xâ‚‚) â© (argsâ‚ â‰¡?[args][term] argsâ‚‚)
  Con câ‚ argsâ‚     â‰¡?[term] Con câ‚‚ argsâ‚‚     = {!!}
  Def fâ‚ argsâ‚     â‰¡?[term] Def fâ‚‚ argsâ‚‚     = {!!}
  Lam vâ‚ tâ‚        â‰¡?[term] Lam vâ‚‚ tâ‚‚        = {!!}
  PatLam csâ‚ argsâ‚ â‰¡?[term] PatLam csâ‚‚ argsâ‚‚ = {!!}
  Pi tâ‚â‚ tâ‚â‚‚       â‰¡?[term] Pi tâ‚‚â‚ tâ‚‚â‚‚       = {!!}
  AgdaSort sâ‚      â‰¡?[term] AgdaSort sâ‚‚      = {!!}
  Lit lâ‚           â‰¡?[term] Lit lâ‚‚           = {!!}
  Meta xâ‚ tsâ‚      â‰¡?[term] Meta xâ‚‚ tsâ‚‚      = {!!}
  Unknown          â‰¡?[term] Unknown          = {!!}
  _                â‰¡?[term] _                = [â‰¢]
  
-}</a>

<a id="3379" class="Comment">-- arg-Ï€-info : âˆ€ {A} â†’ arg A â†’ arg-info</a>
<a id="3420" class="Comment">-- arg-Ï€-info (Arg i x) = i</a>
<a id="3448" class="Comment">-- </a>
<a id="3452" class="Comment">-- arg-Ï€ : âˆ€ {A} â†’ arg A â†’ A</a>
<a id="3481" class="Comment">-- arg-Ï€ (Arg i x) = x</a>

<a id="3505" class="Comment">-- mutual</a>
<a id="3515" class="Comment">--   resolve-arg : arg term â†’ TC ğŸ™</a>
<a id="3550" class="Comment">--   resolve-arg (Arg _ t) = resolve t</a>
<a id="3589" class="Comment">-- </a>
<a id="3593" class="Comment">--   resolve-clause : clause â†’ TC ğŸ™</a>
<a id="3629" class="Comment">--   resolve-clause (Clause _ t) = resolve t</a>
<a id="3674" class="Comment">--   resolve-clause (AbsurdClause ps) = return â€¢</a>
<a id="3723" class="Comment">-- </a>
<a id="3727" class="Comment">--   resolve-abs : abs term â†’ TC ğŸ™</a>
<a id="3762" class="Comment">--   resolve-abs (Abs _ t) = resolve t</a>
<a id="3801" class="Comment">-- </a>
<a id="3805" class="Comment">--   resolve-sort : sort â†’ TC ğŸ™</a>
<a id="3837" class="Comment">--   resolve-sort (`Set t) = resolve t</a>
<a id="3876" class="Comment">--   resolve-sort (Lit _) = return â€¢</a>
<a id="3913" class="Comment">--   resolve-sort Unknown = return â€¢</a>
<a id="3950" class="Comment">-- </a>
<a id="3954" class="Comment">--   resolve-args : âŸ¬ arg term âŸ­ â†’ TC ğŸ™</a>
<a id="3994" class="Comment">--   resolve-args [] = return â€¢</a>
<a id="4026" class="Comment">--   resolve-args (arg âˆ· args) = do</a>
<a id="4062" class="Comment">--     resolve-arg arg</a>
<a id="4085" class="Comment">--     resolve-args args</a>
<a id="4110" class="Comment">-- </a>
<a id="4114" class="Comment">--   resolve-clauses : âŸ¬ clause âŸ­ â†’ TC ğŸ™</a>
<a id="4155" class="Comment">--   resolve-clauses [] = return â€¢</a>
<a id="4190" class="Comment">--   resolve-clauses (c âˆ· cs) = do</a>
<a id="4225" class="Comment">--     resolve-clause c</a>
<a id="4249" class="Comment">--     resolve-clauses cs</a>
<a id="4275" class="Comment">--   </a>
<a id="4281" class="Comment">--   resolve : term â†’ TC ğŸ™</a>
<a id="4308" class="Comment">--   resolve (Var x args) = resolve-args args</a>
<a id="4354" class="Comment">--   resolve (Con c args) = resolve-args args</a>
<a id="4400" class="Comment">--   resolve (Def f args) = resolve-args args</a>
<a id="4446" class="Comment">--   resolve (Lam v t) = resolve-abs t</a>
<a id="4485" class="Comment">--   resolve (PatLam cs args) = do</a>
<a id="4520" class="Comment">--     resolve-clauses cs</a>
<a id="4546" class="Comment">--     resolve-args args</a>
<a id="4571" class="Comment">--   resolve (Pi tâ‚ tâ‚‚) = do</a>
<a id="4600" class="Comment">--     resolve-arg tâ‚</a>
<a id="4622" class="Comment">--     resolve-abs tâ‚‚</a>
<a id="4644" class="Comment">--   resolve (AgdaSort s) = resolve-sort s</a>
<a id="4687" class="Comment">--   resolve (Lit l) = return â€¢</a>
<a id="4719" class="Comment">--   resolve (Meta x _) = blockOnMeta x</a>
<a id="4759" class="Comment">--   resolve Unknown = return â€¢</a>
</pre></body></html>